package mk.com.iwec.elibrary.DAO;

import java.awt.print.Book;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.SQLException;
import java.util.Date;

import mk.com.iwec.elibrary.Books;
import mk.com.iwec.elibrary.interfaces.IBook;

public class BooksDAO extends Books implements IBook {
	private static final String INSERT_BOOK = "INSERT INTO books(id,title,author_id,publisher_id,issue_number,isbn,year_of_release,cover,formats_id,genre) VALUES" + "(?,?,?,?,?,?,?,?,?,?);";

	public void insertBook() {
		// establish connection
		Books book = new Books();
		String d="2020-07-11";
		try (Connection conn = DriverManager.getConnection("jdbc:postgresql://localhost:5432/e-library", "postgres",
				"0110"); PreparedStatement ps = conn.prepareStatement(INSERT_BOOK)) {
			ps.setInt(1, 1);
			ps.setString(2, "Clean COde");
			ps.setInt(3, 1);
			ps.setInt(4, 1);
			ps.setInt(5,1);
			ps.setString(6,"QWERTYUIOPASD");
			ps.setDate(7,book.getYear_of_release());
			ps.setString(8, "Crna");
			ps.setInt(9, 2);
			ps.setString(10, "Drama");
			System.out.println(ps);

			int result = ps.executeUpdate();
			System.out.println(result);
		} catch (SQLException ex) {
			ex.getMessage();
		}
	}
}
